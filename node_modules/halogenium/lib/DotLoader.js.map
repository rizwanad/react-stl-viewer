{"version":3,"sources":["../src/DotLoader.jsx"],"names":["rotateKeyframes","transform","bounceKeyframes","rotateAnimationName","bounceAnimationName","propTypes","loading","bool","color","string","size","oneOfType","number","margin","verticalAlign","ptKeys","Object","keys","DotLoader","getBallStyle","backgroundColor","props","width","height","borderRadius","getAnimationStyle","animation","i","join","animationFillMode","getStyle","ballSize","position","top","bottom","border","klen","length","defaultProps"],"mappings":"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","file":"DotLoader.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport assign from 'domkit/appendVendorPrefix'\nimport insertKeyframesRule from 'domkit/insertKeyframesRule'\n\n/**\n * @type {Object}\n */\nconst rotateKeyframes = {\n  '100%': {\n    transform: 'rotate(360deg)',\n  },\n}\n\n/**\n * @type {Object}\n */\nconst bounceKeyframes = {\n  '0%, 100%': {\n    transform: 'scale(0)',\n  },\n  '50%': {\n    transform: 'scale(1.0)',\n  },\n}\n\n/**\n * @type {String}\n */\nconst rotateAnimationName = insertKeyframesRule(rotateKeyframes)\n\n/**\n * @type {String}\n */\nconst bounceAnimationName = insertKeyframesRule(bounceKeyframes)\n\nconst propTypes = {\n  loading: PropTypes.bool,\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  margin: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  verticalAlign: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n}\n\nconst ptKeys = Object.keys(propTypes)\n\nexport default class DotLoader extends Component {\n  static propTypes = propTypes;\n\n  static defaultProps = {\n    loading: true,\n    color: '#ffffff',\n    size: '60px',\n  }\n\n  /**\n   * @param  {String} size\n   * @return {Object}\n   */\n  getBallStyle = size => ({\n    backgroundColor: this.props.color,\n    width: size,\n    height: size,\n    borderRadius: '100%',\n    verticalAlign: this.props.verticalAlign,\n  })\n\n  /**\n   * @param  {Number} i\n   * @return {Object}\n   */\n  getAnimationStyle = i => {\n    const animation = [\n      i === 0 ? rotateAnimationName : bounceAnimationName,\n      '2s',\n      i === 2 ? '-1s' : '0s',\n      'infinite',\n      'linear',\n    ].join(' ')\n    const animationFillMode = 'forwards'\n\n    return {\n      animation,\n      animationFillMode,\n    }\n  }\n\n  /**\n   * @param  {Number} i\n   * @return {Object}\n   */\n  getStyle = i => {\n    const size = this.props.size | 0\n    const ballSize = size / 2\n\n    if (i) {\n      return assign(\n        this.getBallStyle(ballSize),\n        this.getAnimationStyle(i),\n        {\n          position: 'absolute',\n          top: i % 2 ? 0 : 'auto',\n          bottom: i % 2 ? 'auto' : 0,\n          border: '0px solid transparent', // fix firefox/chrome/opera rendering\n        },\n      )\n    }\n\n    return assign(\n      this.getAnimationStyle(i),\n      {\n        width: size,\n        height: size,\n        position: 'relative',\n        border: '0px solid transparent', // fix firefox/chrome/opera rendering\n      },\n    )\n  }\n\n  render() {\n    const { loading } = this.props\n\n    if (loading) {\n      const props = { ...this.props }\n\n      if (propTypes && ptKeys) {\n        const klen = ptKeys.length\n        for (let i = 0; i < klen; i++) {\n          delete props[ptKeys[i]]\n        }\n      }\n\n      return (\n        <div {...props}>\n          <div style={this.getStyle(0)}>\n            <div style={this.getStyle(1)} />\n            <div style={this.getStyle(2)} />\n          </div>\n        </div>\n      )\n    }\n\n    return null\n  }\n}\n"]}