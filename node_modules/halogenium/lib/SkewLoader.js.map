{"version":3,"sources":["../src/SkewLoader.jsx"],"names":["keyframes","transform","animationName","propTypes","loading","bool","color","string","size","oneOfType","number","verticalAlign","ptKeys","Object","keys","SkewLoader","getSharpStyle","width","height","borderLeft","props","borderRight","borderBottom","getAnimationStyle","animation","join","animationFillMode","getStyle","border","i","display","renderLoader","assign","klen","length","defaultProps"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;AAEA;;;AAGA,IAAMA,YAAY;AAChB,SAAO;AACLC,eAAW;AADN,GADS;AAIhB,SAAO;AACLA,eAAW;AADN,GAJS;AAOhB,SAAO;AACLA,eAAW;AADN,GAPS;AAUhB,UAAQ;AACNA,eAAW;AADL;;AAKV;;;AAfkB,CAAlB,CAkBA,IAAMC,gBAAgB,mCAAoBF,SAApB,CAAtB;;AAEA,IAAMG,YAAY;AAChBC,WAAS,oBAAUC,IADH;AAEhBC,SAAO,oBAAUC,MAFD;AAGhBC,QAAM,oBAAUC,SAAV,CAAoB,CAAE,oBAAUC,MAAZ,EAAoB,oBAAUH,MAA9B,CAApB,CAHU;AAIhBI,iBAAe,oBAAUF,SAAV,CAAoB,CAAE,oBAAUC,MAAZ,EAAoB,oBAAUH,MAA9B,CAApB;AAJC,CAAlB;;AAOA,IAAMK,SAASC,OAAOC,IAAP,CAAYX,SAAZ,CAAf;;IAEqBY,U;;;;;;;;;;;;;;8LAenBC,a,GAAgB;AAAA,aAAO;AACrBC,eAAO,CADc;AAErBC,gBAAQ,CAFa;AAGrBC,oBAAe,MAAKC,KAAL,CAAWZ,IAA1B,uBAHqB;AAIrBa,qBAAgB,MAAKD,KAAL,CAAWZ,IAA3B,uBAJqB;AAKrBc,sBAAiB,MAAKF,KAAL,CAAWZ,IAA5B,eAA0C,MAAKY,KAAL,CAAWd,KALhC;AAMrBK,uBAAe,MAAKS,KAAL,CAAWT;AANL,OAAP;AAAA,K,QAahBY,iB,GAAoB,YAAM;AACxB,UAAMC,YAAY,CAAEtB,aAAF,EAAiB,IAAjB,EAAuB,IAAvB,EAA6B,UAA7B,EAAyC,8BAAzC,EAA0EuB,IAA1E,CAA+E,GAA/E,CAAlB;AACA,UAAMC,oBAAoB,MAA1B;;AAEA,aAAO;AACLF,4BADK;AAELE;AAFK,OAAP;AAID,K,QAMDC,Q,GAAW;AAAA,aAAK,kCACd;AACEC,gBAAQ,uBADV,CACmC;AADnC,OADc,EAId,MAAKZ,aAAL,CAAmBa,CAAnB,CAJc,EAKd,MAAKN,iBAAL,CAAuBM,CAAvB,CALc,EAMd;AACEC,iBAAS;AADX,OANc,CAAL;AAAA,K,QAeXC,Y,GAAe,mBAAW;AACxB,UAAI3B,OAAJ,EAAa;AACX,YAAMgB,QAAQP,OAAOmB,MAAP,CAAc,EAAd,EAAkB,MAAKZ,KAAvB,CAAd;;AAEA,YAAIjB,aAAaS,MAAjB,EAAyB;AACvB,cAAMqB,OAAOrB,OAAOsB,MAApB;AACA,eAAK,IAAIL,IAAI,CAAb,EAAgBA,IAAII,IAApB,EAA0BJ,GAA1B,EAA+B;AAC7B,mBAAOT,MAAMR,OAAOiB,CAAP,CAAN,CAAP;AACD;AACF;;AAED,eACE;AAAA;AAAST,eAAT;AACE,iDAAK,OAAO,MAAKO,QAAL,EAAZ;AADF,SADF;AAKD;;AAED,aAAO,IAAP;AACD,K;;AA3ED;;;;;AAWA;;;;;AAYA;;;;;;AAcA;;;;;;AAeA;;;;;;;;6BAyBS;AACP,aAAO,KAAKI,YAAL,CAAkB,KAAKX,KAAL,CAAWhB,OAA7B,CAAP;AACD;;;;;;AAhFkBW,U,CAIZZ,S,GAAYA,S;AAJAY,U,CAMZoB,Y,GAAe;AACpB/B,WAAS,IADW;AAEpBE,SAAO,MAFa;AAGpBE,QAAM,MAHc,E;kBANHO,U","file":"SkewLoader.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport assign from 'domkit/appendVendorPrefix'\nimport insertKeyframesRule from 'domkit/insertKeyframesRule'\n\n/**\n * @type {Object}\n */\nconst keyframes = {\n  '25%': {\n    transform: 'perspective(100px) rotateX(180deg) rotateY(0)',\n  },\n  '50%': {\n    transform: 'perspective(100px) rotateX(180deg) rotateY(180deg)',\n  },\n  '75%': {\n    transform: 'perspective(100px) rotateX(0) rotateY(180deg)',\n  },\n  '100%': {\n    transform: 'perspective(100px) rotateX(0) rotateY(0)',\n  },\n}\n\n/**\n * @type {String}\n */\nconst animationName = insertKeyframesRule(keyframes)\n\nconst propTypes = {\n  loading: PropTypes.bool,\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  verticalAlign: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n}\n\nconst ptKeys = Object.keys(propTypes)\n\nexport default class SkewLoader extends Component {\n  /**\n   * @type {Object}\n   */\n  static propTypes = propTypes;\n\n  static defaultProps = {\n    loading: true,\n    color: '#fff',\n    size: '20px',\n  }\n\n  /**\n   * @return {Object}\n   */\n  getSharpStyle = () => ({\n    width: 0,\n    height: 0,\n    borderLeft: `${this.props.size} solid transparent`,\n    borderRight: `${this.props.size} solid transparent`,\n    borderBottom: `${this.props.size} solid ${this.props.color}`,\n    verticalAlign: this.props.verticalAlign,\n  })\n\n  /**\n   * @param  {Number} i\n   * @return {Object}\n   */\n  getAnimationStyle = () => {\n    const animation = [ animationName, '3s', '0s', 'infinite', 'cubic-bezier(.09,.57,.49,.9)' ].join(' ')\n    const animationFillMode = 'both'\n\n    return {\n      animation,\n      animationFillMode,\n    }\n  }\n\n  /**\n   * @param  {Number} i\n   * @return {Object}\n   */\n  getStyle = i => assign(\n    {\n      border: '0px solid transparent', // fix firefox/chrome/opera rendering\n    },\n    this.getSharpStyle(i),\n    this.getAnimationStyle(i),\n    {\n      display: 'inline-block',\n    },\n  )\n\n  /**\n   * @param  {Boolean} loading\n   * @return {ReactComponent || null}\n   */\n  renderLoader = loading => {\n    if (loading) {\n      const props = Object.assign({}, this.props)\n\n      if (propTypes && ptKeys) {\n        const klen = ptKeys.length\n        for (let i = 0; i < klen; i++) {\n          delete props[ptKeys[i]]\n        }\n      }\n\n      return (\n        <div {...props}>\n          <div style={this.getStyle()} />\n        </div>\n      )\n    }\n\n    return null\n  }\n\n  render() {\n    return this.renderLoader(this.props.loading)\n  }\n}\n"]}