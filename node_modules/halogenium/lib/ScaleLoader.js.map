{"version":3,"sources":["../src/ScaleLoader.jsx"],"names":["keyframes","transform","animationName","propTypes","loading","bool","color","string","height","oneOfType","number","width","margin","radius","verticalAlign","ptKeys","Object","keys","ScaleLoader","getLineStyle","backgroundColor","props","borderRadius","getAnimationStyle","animation","i","join","animationFillMode","getStyle","display","border","renderLoader","assign","klen","length","defaultProps"],"mappings":"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","file":"ScaleLoader.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport assign from 'domkit/appendVendorPrefix'\nimport insertKeyframesRule from 'domkit/insertKeyframesRule'\n\n/**\n * @type {Object}\n */\nconst keyframes = {\n  '0%': {\n    transform: 'scaley(1.0)',\n  },\n  '50%': {\n    transform: 'scaley(0.4)',\n  },\n  '100%': {\n    transform: 'scaley(1.0)',\n  },\n}\n\n/**\n * @type {String}\n */\nconst animationName = insertKeyframesRule(keyframes)\n\nconst propTypes = {\n  loading: PropTypes.bool,\n  color: PropTypes.string,\n  height: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  width: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  margin: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  radius: PropTypes.string,\n  verticalAlign: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n}\n\nconst ptKeys = Object.keys(propTypes)\n\nexport default class ScaleLoader extends Component {\n  /**\n   * @type {Object}\n   */\n  static propTypes = propTypes;\n\n  static defaultProps = {\n    loading: true,\n    color: '#fff',\n    height: '35px',\n    width: '4px',\n    margin: '2px',\n    radius: '2px',\n  }\n\n  /**\n   * @return {Object}\n   */\n  getLineStyle = () => ({\n    backgroundColor: this.props.color,\n    height: this.props.height,\n    width: this.props.width,\n    margin: this.props.margin,\n    borderRadius: this.props.radius,\n    verticalAlign: this.props.verticalAlign,\n  })\n\n  /**\n   * @param  {Number} i\n   * @return {Object}\n   */\n  getAnimationStyle = i => {\n    const animation = [ animationName, '1s', `${i * 0.1}s`, 'infinite', 'cubic-bezier(.2,.68,.18,1.08)' ].join(' ')\n    const animationFillMode = 'both'\n\n    return {\n      animation,\n      animationFillMode,\n    }\n  }\n\n  /**\n   * @param  {Number} i\n   * @return {Object}\n   */\n  getStyle = i => assign(\n    this.getLineStyle(i),\n    this.getAnimationStyle(i),\n    {\n      display: 'inline-block',\n      border: '0px solid transparent', // fix firefox/chrome/opera rendering\n    },\n  );\n\n  /**\n   * @param  {Boolean} loading\n   * @return {ReactComponent || null}\n   */\n  renderLoader = loading => {\n    if (loading) {\n      const props = Object.assign({}, this.props)\n\n      if (propTypes && ptKeys) {\n        const klen = ptKeys.length\n        for (let i = 0; i < klen; i++) {\n          delete props[ptKeys[i]]\n        }\n      }\n\n      return (\n        <div {...props}>\n          <div style={this.getStyle(1)} />\n          <div style={this.getStyle(2)} />\n          <div style={this.getStyle(3)} />\n          <div style={this.getStyle(4)} />\n          <div style={this.getStyle(5)} />\n        </div>\n      )\n    }\n\n    return null\n  }\n\n  render() {\n    return this.renderLoader(this.props.loading)\n  }\n}\n"]}