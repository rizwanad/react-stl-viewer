{"version":3,"sources":["../src/MoonLoader.jsx"],"names":["keyframes","transform","animationName","propTypes","loading","bool","color","string","size","oneOfType","number","margin","verticalAlign","ptKeys","Object","keys","MoonLoader","getBallStyle","width","height","borderRadius","props","getAnimationStyle","animation","join","animationFillMode","getStyle","moonSize","i","border","backgroundColor","opacity","position","top","klen","length","defaultProps"],"mappings":"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","file":"MoonLoader.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport assign from 'domkit/appendVendorPrefix'\nimport insertKeyframesRule from 'domkit/insertKeyframesRule'\n\n/**\n * @type {Object}\n */\nconst keyframes = {\n  '100%': {\n    transform: 'rotate(360deg)',\n  },\n}\n\n/**\n * @type {String}\n */\nconst animationName = insertKeyframesRule(keyframes)\n\nconst propTypes = {\n  loading: PropTypes.bool,\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  margin: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  verticalAlign: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n}\n\nconst ptKeys = Object.keys(propTypes)\n\nexport default class MoonLoader extends Component {\n  static propTypes = propTypes;\n\n  static defaultProps = {\n    loading: true,\n    color: '#ffffff',\n    size: '60px',\n  }\n\n  /**\n   * @param  {String} size\n   * @return {Object}\n   */\n  getBallStyle = size => ({\n    width: size,\n    height: size,\n    borderRadius: '100%',\n    verticalAlign: this.props.verticalAlign,\n  })\n\n  getAnimationStyle = () => {\n    const animation = [ animationName, '0.6s', '0s', 'infinite', 'linear' ].join(' ')\n    const animationFillMode = 'forwards'\n\n    return {\n      animation,\n      animationFillMode,\n    }\n  }\n\n  /**\n   * @param  {Number} i\n   * @return {Object}\n   */\n  getStyle = i => {\n    const size = this.props.size | 0\n    const moonSize = size / 7\n\n    if (i === 1) {\n      return assign(\n        {\n          border: '0px solid transparent', // fix firefox/chrome/opera rendering\n        },\n        this.getBallStyle(moonSize),\n        this.getAnimationStyle(i),\n        {\n          backgroundColor: this.props.color,\n          opacity: '0.8',\n          position: 'absolute',\n          top: size / 2 - moonSize / 2,\n        },\n      )\n    } else if (i === 2) {\n      return assign(\n        {\n          border: '0px solid transparent', // fix firefox/chrome/opera rendering\n        },\n        this.getBallStyle(size),\n        {\n          border: `${moonSize}px solid ${this.props.color}`,\n          opacity: 0.1,\n        },\n      )\n    }\n    return assign(\n      {\n        border: '0px solid transparent', // fix firefox/chrome/opera rendering\n      },\n      this.getAnimationStyle(i),\n      {\n        position: 'relative',\n      },\n    )\n  }\n\n  render() {\n    const { loading } = this.props\n\n    if (loading) {\n      const props = { ...this.props }\n\n      if (propTypes && ptKeys) {\n        const klen = ptKeys.length\n        for (let i = 0; i < klen; i++) {\n          delete props[ptKeys[i]]\n        }\n      }\n\n      return (\n        <div {...props}>\n          <div style={this.getStyle(0)}>\n            <div style={this.getStyle(1)} />\n            <div style={this.getStyle(2)} />\n          </div>\n        </div>\n      )\n    }\n\n    return null\n  }\n}\n"]}