{"version":3,"sources":["../src/GridLoader.jsx"],"names":["keyframes","transform","opacity","animationName","random","top","Math","propTypes","loading","bool","color","string","size","oneOfType","number","margin","verticalAlign","ptKeys","Object","keys","GridLoader","getBallStyle","backgroundColor","props","width","height","borderRadius","getAnimationStyle","animationDuration","animationDelay","animation","join","animationFillMode","getStyle","i","display","border","style","parseFloat","fontSize","klen","length","defaultProps"],"mappings":"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","file":"GridLoader.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport assign from 'domkit/appendVendorPrefix'\nimport insertKeyframesRule from 'domkit/insertKeyframesRule'\n\n/**\n * @type {Object}\n */\nconst keyframes = {\n  '0%': {\n    transform: 'scale(1)',\n  },\n  '50%': {\n    transform: 'scale(0.5)',\n    opacity: 0.7,\n  },\n  '100%': {\n    transform: 'scale(1)',\n    opacity: 1,\n  },\n}\n\n/**\n * @type {String}\n */\nconst animationName = insertKeyframesRule(keyframes)\n\n/**\n * @param  {Number} top\n * @return {Number}\n */\nfunction random(top) {\n  return Math.random() * top\n}\n\nconst propTypes = {\n  loading: PropTypes.bool,\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  margin: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  verticalAlign: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n}\n\nconst ptKeys = Object.keys(propTypes)\n\nexport default class GridLoader extends Component {\n  static propTypes = propTypes;\n\n  static defaultProps = {\n    loading: true,\n    color: '#ffffff',\n    size: '15px',\n    margin: '2px',\n  }\n\n  getBallStyle = () => ({\n    backgroundColor: this.props.color,\n    width: this.props.size,\n    height: this.props.size,\n    margin: this.props.margin,\n    borderRadius: '100%',\n    verticalAlign: this.props.verticalAlign,\n  })\n\n  getAnimationStyle = () => {\n    const animationDuration = `${(random(100) / 100) + 0.6}s`\n    const animationDelay = `${(random(100) / 100) - 0.2}s`\n\n    const animation = [\n      animationName,\n      animationDuration,\n      animationDelay,\n      'infinite',\n      'ease',\n    ].join(' ')\n    const animationFillMode = 'both'\n\n    return {\n      animation,\n      animationFillMode,\n    }\n  }\n\n  /**\n   * @param  {Number} i\n   * @return {Object}\n   */\n  getStyle = i => (\n    assign(\n      this.getBallStyle(i),\n      this.getAnimationStyle(i),\n      {\n        display: 'inline-block',\n        border: '0px solid transparent', // fix firefox/chrome/opera rendering\n      },\n    )\n  )\n\n  render() {\n    const { loading } = this.props\n\n    if (loading) {\n      const style = {\n        width: (parseFloat(this.props.size) * 3) + parseFloat(this.props.margin) * 6,\n        fontSize: 0,\n      }\n\n      const props = { ...this.props }\n\n      if (propTypes && ptKeys) {\n        const klen = ptKeys.length\n        for (let i = 0; i < klen; i++) {\n          delete props[ptKeys[i]]\n        }\n      }\n\n      return (\n        <div {...props}>\n          <div style={style}>\n            <div style={this.getStyle(1)} />\n            <div style={this.getStyle(2)} />\n            <div style={this.getStyle(3)} />\n            <div style={this.getStyle(4)} />\n            <div style={this.getStyle(5)} />\n            <div style={this.getStyle(6)} />\n            <div style={this.getStyle(7)} />\n            <div style={this.getStyle(8)} />\n            <div style={this.getStyle(9)} />\n          </div>\n        </div>\n      )\n    }\n\n    return null\n  }\n}\n"]}