{"version":3,"sources":["../src/PacmanLoader.jsx"],"names":["animations","propTypes","loading","bool","color","string","size","oneOfType","number","margin","verticalAlign","ptKeys","Object","keys","PacmanLoader","getBallStyle","backgroundColor","props","width","height","borderRadius","border","getAnimationStyle","animationName","keyframes","opacity","transform","animation","i","join","animationFillMode","getStyle","s1","s2","borderRight","borderTop","borderLeft","borderBottom","position","top","left","renderLoader","style","fontSize","assign","klen","length","defaultProps"],"mappings":"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","file":"PacmanLoader.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport assign from 'domkit/appendVendorPrefix'\nimport insertKeyframesRule from 'domkit/insertKeyframesRule'\n\n/**\n * @type {Object}\n */\nconst animations = {}\n\nconst propTypes = {\n  loading: PropTypes.bool,\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  margin: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  verticalAlign: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n}\n\nconst ptKeys = Object.keys(propTypes)\n\nexport default class PacmanLoader extends Component {\n  static propTypes = propTypes;\n\n  /**\n   * @return {Object}\n   */\n  static defaultProps = {\n    loading: true,\n    color: '#fff',\n    size: 25,\n    margin: 2,\n  }\n\n  /**\n   * @return {Object}\n   */\n  getBallStyle = () => ({\n    backgroundColor: this.props.color,\n    width: this.props.size,\n    height: this.props.size,\n    margin: this.props.margin,\n    borderRadius: '100%',\n    verticalAlign: this.props.verticalAlign,\n    border: '0px solid transparent', // fix firefox/chrome/opera rendering\n  })\n\n  /**\n   * @param  {Number} i\n   * @return {Object}\n   */\n  getAnimationStyle = i => {\n    const size = this.props.size\n    let animationName = animations[size]\n\n    if (!animationName) {\n      const keyframes = {\n        '75%': {\n          opacity: 0.7,\n        },\n        '100%': {\n          transform: `translate(${-4 * size}px, ${-size / 4}px)`,\n        },\n      }\n      animationName = animations[size] = insertKeyframesRule(keyframes)\n    }\n\n    const animation = [ animationName, '1s', `${i * 0.25}s`, 'infinite', 'linear' ].join(' ')\n    const animationFillMode = 'both'\n\n    return {\n      animation,\n      animationFillMode,\n    }\n  }\n\n  getStyle = i => {\n    if (i | 0 === 1) {\n      const s1 = `${this.props.size}px solid transparent`\n      const s2 = `${this.props.size}px solid ${this.props.color}`\n\n      return {\n        width: 0,\n        height: 0,\n        borderRight: s1,\n        borderTop: s2,\n        borderLeft: s2,\n        borderBottom: s2,\n        borderRadius: this.props.size,\n      }\n    }\n\n    return assign(\n      this.getBallStyle(i),\n      this.getAnimationStyle(i),\n      {\n        width: 10,\n        height: 10,\n        transform: `translate(0, ${-this.props.size / 4}px)`,\n        position: 'absolute',\n        top: 25,\n        left: 100,\n      },\n    )\n  }\n\n  renderLoader = loading => {\n    if (loading) {\n      const style = {\n        position: 'relative',\n        fontSize: 0,\n      }\n      const props = Object.assign({}, this.props)\n\n      if (propTypes && ptKeys) {\n        const klen = ptKeys.length\n        for (let i = 0; i < klen; i++) {\n          delete props[ptKeys[i]]\n        }\n      }\n\n      return (\n        <div {...props}>\n          <div style={style}>\n            <div style={this.getStyle(1)} />\n            <div style={this.getStyle(2)} />\n            <div style={this.getStyle(3)} />\n            <div style={this.getStyle(4)} />\n            <div style={this.getStyle(5)} />\n          </div>\n        </div>\n      )\n    }\n\n    return null\n  }\n\n  render() {\n    return this.renderLoader(this.props.loading)\n  }\n}\n"]}