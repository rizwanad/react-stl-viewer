{"version":3,"sources":["../src/RingLoader.jsx"],"names":["rightRotateKeyframes","transform","leftRotateKeyframes","rightRotateAnimationName","leftRotateAnimationName","propTypes","loading","bool","color","string","size","oneOfType","number","margin","verticalAlign","ptKeys","Object","keys","RingLoader","getCircleStyle","width","height","border","props","opacity","borderRadius","getAnimationStyle","animation","i","join","animationFillMode","perspective","getStyle","parseInt","position","top","left","renderLoader","assign","klen","length","defaultProps"],"mappings":"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","file":"RingLoader.js","sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport assign from 'domkit/appendVendorPrefix'\nimport insertKeyframesRule from 'domkit/insertKeyframesRule'\n\n/**\n * @type {Object}\n */\nconst rightRotateKeyframes = {\n  '0%': {\n    transform: 'rotateX(0deg) rotateY(0deg) rotateZ(0deg)',\n\n  },\n  '100%': {\n    transform: 'rotateX(180deg) rotateY(360deg) rotateZ(360deg)',\n  },\n}\n\n/**\n * @type {Object}\n */\nconst leftRotateKeyframes = {\n  '0%': {\n    transform: 'rotateX(0deg) rotateY(0deg) rotateZ(0deg)',\n  },\n  '100%': {\n    transform: 'rotateX(360deg) rotateY(180deg) rotateZ(360deg)',\n  },\n}\n\n/**\n * @type {String}\n */\nconst rightRotateAnimationName = insertKeyframesRule(rightRotateKeyframes)\n\n/**\n * @type {String}\n */\nconst leftRotateAnimationName = insertKeyframesRule(leftRotateKeyframes)\n\nconst propTypes = {\n  loading: PropTypes.bool,\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  margin: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n  verticalAlign: PropTypes.oneOfType([ PropTypes.number, PropTypes.string ]),\n}\n\nconst ptKeys = Object.keys(propTypes)\n\nexport default class RingLoader extends Component {\n  /**\n   * @type {Object}\n   */\n  static propTypes = propTypes;\n\n  static defaultProps = {\n    loading: true,\n    color: '#ffffff',\n    size: '60px',\n  }\n\n  /**\n   * @param {String} size\n   * @return {Object}\n   */\n  getCircleStyle = size => ({\n    width: size,\n    height: size,\n    border: `${size / 10}px solid ${this.props.color}`,\n    opacity: 0.4,\n    borderRadius: '100%',\n    verticalAlign: this.props.verticalAlign,\n  })\n\n  /**\n   * @param  {Number} i\n   * @return {Object}\n   */\n  getAnimationStyle = i => {\n    const animation = [\n      i | 0 === 1 ? rightRotateAnimationName : leftRotateAnimationName,\n      '2s', '0s', 'infinite', 'linear',\n    ].join(' ')\n\n    const animationFillMode = 'forwards'\n    const perspective = '800px'\n\n    return {\n      perspective,\n      animation,\n      animationFillMode,\n    }\n  }\n\n  /**\n   * @param  {Number} i\n   * @return {Object}\n   */\n  getStyle = i => {\n    const size = parseInt(this.props.size, 10)\n\n    if (i) {\n      return assign(\n        {\n          border: '0px solid transparent', // fix firefox/chrome/opera rendering\n        },\n        this.getCircleStyle(size),\n        this.getAnimationStyle(i),\n        {\n          position: 'absolute',\n          top: 0,\n          left: 0,\n        },\n      )\n    }\n\n    return {\n      width: size,\n      height: size,\n      position: 'relative',\n      border: '0px solid transparent', // fix firefox/chrome/opera rendering\n    }\n  }\n\n  /**\n   * @param  {Boolean} loading\n   * @return {ReactComponent || null}\n   */\n  renderLoader = loading => {\n    if (loading) {\n      const props = Object.assign({}, this.props)\n\n      if (propTypes && ptKeys) {\n        const klen = ptKeys.length\n        for (let i = 0; i < klen; i++) {\n          delete props[ptKeys[i]]\n        }\n      }\n\n      return (\n        <div {...props}>\n          <div style={this.getStyle(0)}>\n            <div style={this.getStyle(1)} />\n            <div style={this.getStyle(2)} />\n          </div>\n        </div>\n      )\n    }\n\n    return null\n  }\n\n  render() {\n    return this.renderLoader(this.props.loading)\n  }\n}\n"]}